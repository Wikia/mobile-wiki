<script>
	(function(){
		window.trackQuantservePageView = function() {
			var quantcastLabels, prefix, scriptTag, firstScriptInDocument;

			if (!M.prop('queryParams.noexternals')) {
				quantcastLabels = ['Category.MobileWeb.Mercury'];
				prefix = document.location.protocol === 'https:' ? 'https://secure' : 'http://edge';
				scriptTag = document.createElement('script');
				firstScriptInDocument = document.getElementsByTagName('script')[0];

				if (Mercury.wiki.vertical) {
					quantcastLabels.unshift(Mercury.wiki.vertical);
				}

				// without this quantserve does not want to track 2+ page view
				window.__qc = null;

				window._qevents = [{
					qacct: M.prop('tracking.quantserve'),
					labels: quantcastLabels.join(',')
				}];

				scriptTag.async = 1;
				scriptTag.src = prefix + '.quantserve.com/quant.js?' + Math.random();

				firstScriptInDocument.parentNode.insertBefore(scriptTag, firstScriptInDocument);

				console.info('Track pageView: Quantserve');
			}
		};

		window.trackQuantservePageView();
	})();
</script>
