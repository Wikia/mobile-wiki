.lightbox-wrapper {
	background-color: $wds-fandom-color-black;
	bottom: 0;
	color: $modal-text-color;
	display: flex;
	flex-direction: column;
	left: 0;
	overflow: hidden;
	position: fixed;
	right: 0;
	-webkit-tap-highlight-color: transparent;
	top: 0;
	z-index: $z-lightbox-wrapper;

	&.open {
		animation: fadeInFromNone .3s;
	}

	&:focus {
		outline: 0;
	}
}

// This is needed because we can't transform opacity from display: hidden in a regular way
@keyframes fadeInFromNone {
	0% {
		opacity: 0;
	}

	1% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}

.lightbox-header {
	height: 40px;
	position: absolute;
	width: 100%;
	z-index: $z-lightbox-header;
}

.lightbox-header-title {
	float: left;
	padding: 15px 13px;
}

.lightbox-close-wrapper {
	float: right;
	padding: 16px;
}

.lightbox-close-button {
	pointer-events: none;
}

.lightbox-content {
	height: 100%;
	overflow: hidden;
	position: relative;
	width: 100%;

	img {
		max-height: 100%;
		max-width: 100%;
		opacity: 0;
		transition: .01s opacity .3s;

		.open & {
			opacity: 1;
		}
	}
}

.lightbox-content-inner {
	align-items: center;
	display: flex;
	height: 100%;
	justify-content: center;
	width: 100%;

	&:focus {
		outline: none;
	}
}

.lightbox-footer {
	bottom: 0;
	left: 0;
	padding: 18px 0 3px 18px;
	position: absolute;
	width: 100%;
	z-index: $z-lightbox-footer;
}

.lightbox-footer-head {
	margin-bottom: 6px;
}

.lightbox-footer-content-wrapper {
	align-items: flex-end;
	display: flex;
	justify-content: space-between;
}

.lightbox-footer-content {
	height: auto;
	margin-bottom: 12px;
	max-height: 3.7em;
	overflow: hidden;
	transition: max-height .3s;

	&.expanded {
		max-height: 10em;
	}

	&:last-child {
		padding-right: 18px;
	}
}

.lightbox-footer-link {
	@include square(44px);

	align-items: center;
	display: flex;
	justify-content: space-around;
	margin-right: 4px;

	svg {
		transform: rotate(-45deg);
	}
}

.has-footer .lightbox-image.lightbox-content-inner::after,
.has-footer .lightbox-video.lightbox-content-inner::after {
	background-image: linear-gradient(to top, $wds-fandom-color-black, rgba($wds-fandom-color-black, 0));
	bottom: 0;
	content: ' ';
	left: 0;
	position: absolute;
	right: 0;
	top: 50%;
	z-index: $z-lightbox-footer - 1;
}

.lightbox-ui-hidden.has-footer .lightbox-image.lightbox-content-inner::after,
.lightbox-ui-hidden.has-footer .lightbox-video.lightbox-content-inner::after {
	display: none;
}

.lightbox-thumbnails-container {
	align-items: center;
	display: flex;
	flex-wrap: nowrap;
	height: 80px;
	overflow-x: auto;
	overflow-y: hidden;
	padding: 0 18px;
	width: 100%;
}

.lightbox-thumbnail {
	@extend %position-play-icon;

	border: 2px solid transparent;
	border-radius: 4px;
	box-sizing: content-box;

	img {
		@include square(44px);

		border-radius: 4px;
	}

	.lazyloading {
		@include is-loading;
	}

	.lazyloaded {
		animation: fadeInFromNone .3s;
	}

	&:not(:first-child) {
		margin-left: 6px;
	}
}

.lightbox-thumbnail-active {
	border: 2px solid $wds-fandom-color-aqua;
}

.lightbox-image .loading {
	@include is-loading;
}
