{{discussion-post-card-detail
	approve=(action this.attrs.approve)
	author=model.createdBy
	delete=(action this.attrs.deletePost)
	isDetailsView=true
	lock=(action this.attrs.lockPost)
	post=model
	postId=model.id
	replyCount=model.repliesCount
	report=(action this.attrs.report)
	setEditDiscussionEntity=(action this.attrs.setEditDiscussionEntity)
	setEditorActive=(action this.attrs.setEditorActive)
	timestamp=model.creationTimestamp
	undelete=(action this.attrs.undeletePost)
	unlock=(action this.attrs.unlockPost)
	upvoteCount=model.upvoteCount
	upvote=(action this.attrs.upvote)
}}

{{#if model.replies}}
	<div class="desktop-hidden discussion-contributors-mobile">
		{{discussion-contributors
			users=model.contributors.users
			maxContributorDisplayCount=7
			totalContributorCount=model.contributors.count
		}}
	</div>
	{{#if canShowOlder}}
		<button {{action this.attrs.loadOlderReplies}} class="load-older active-element-theme-color">
			{{svg 'comments' viewBox='0 0 30 30' class='icon replies'}}
			{{i18n 'main.pagination-post-show-more' ns='discussion'}}
		</button>
	{{/if}}
{{/if}}
<div class="replies-list">
	{{#each model.replies as |entity index|}}
		{{discussion-post-card-reply
			approve=(action this.attrs.approve)
			author=entity.createdBy
			content=entity.rawContent
			delete=(action this.attrs.deleteReply)
			isDetailsView=true
			isNew=entity.isNew
			isParentDeleted=model.isDeleted
			report=(action this.attrs.report)
			post=entity
			permalinkedReplyId=model.permalinkedReplyId
			setEditDiscussionEntity=(action this.attrs.setEditDiscussionEntity)
			setEditorActive=(action this.attrs.setEditorActive)
			timestamp=entity.creationTimestamp
			undelete=(action this.attrs.undeleteReply)
			upvote=(action this.attrs.upvote)
			upvoteCount=entity.upvoteCount
		}}
	{{else}}
		{{#if canReply}}
			<div class="discussion-no-replies">
				{{svg 'comments' viewBox='0 0 30 30' class='icon no-replies'}}
				{{i18n 'main.no-replies-be-the-first' ns='discussion'}}
			</div>
		{{/if}}
	{{/each}}
	{{#if canShowNewer}}
		<button {{action this.attrs.loadNewerReplies}}
			class="load-newer active-element-theme-color
			{{if isFloatingButton 'floating' 'wide'}}
			{{if isFloatingButtonBottomSpace 'bottom-space'}}
			{{unless canReply 'no-editor'}}">
			{{#if isFloatingButton}}
				{{svg 'down-small' viewBox='0 0 10 12' class='icon down-small'}}
				{{i18n 'main.pagination-post-show-new-replies' ns='discussion'}}
			{{else}}
				{{i18n 'main.pagination-post-show-newer-replies' ns='discussion'}}
			{{/if}}
		</button>
	{{/if}}
	{{#if canReply}}
		{{#if responsive.isDesktop}}
			{{discussion-inline-reply-editor
				create=(action this.attrs.createReply)
				errorMessage=editorState.errorMessage
				generateOpenGraph=(action this.attrs.generateOpenGraph)
				isActive=editorState.isOpen
				isLoading=editorState.isLoading
				isReply=true
				setEditorActive=(action this.attrs.setEditorActive)
			}}
		{{/if}}
		{{#if responsive.isMobile}}
			{{discussion-reply-editor-entry-point}}
		{{/if}}
	{{/if}}
</div>
