{{#if responsive.isMobile}}
	{{#ember-wormhole to="site-head-sub-header"}}
		{{discussion-header
			applyFilters=(action this.attrs.applyFilters)
			canModerate=model.canModerate
			categories=categories
			hasContentError=hasContentError
			hasFilters=true
			hasNewPostButton=hasNewPostButton
			hasSiteName=true
			isCategoryFilterDisabled=isCategoryFilterDisabled
			isSortingDisabled=isSortingDisabled
			showReportedFilter=canShowReportedPostsFilter
			setEditorActive=(action this.attrs.setEditorActive)
			smartBannerVisible=smartBannerVisible
			updateCategories=(action this.attrs.updateCategories)
			validatePostsOnForum=(action this.attrs.validatePostsOnForum)
		}}
	{{/ember-wormhole}}
{{/if}}
{{discussion-dialog
	confirmButtonText=confirmButtonText
	confirmCallback=confirmCallback
	dialogMessage=dialogMessage
	headerText=dialogHeaderText
	isConfirm=isConfirm
	isVisible=shouldShowDialogMessage
	redirectUrl=redirectUrl
}}
<div class="site-body-discussion post-list-view">
	{{discussion-hero-unit
		contributors=model.contributors
		editingPossible=true
		heroImage=attributes.heroImage
		numberOfPosts=model.postCount
		triggerHighlightOverlayStateChange=(route-action 'triggerHighlightOverlayStateChange')
		uploadMethod=(action this.attrs.uploadDiscussionsHeader)
	}}
	<div class="discussion-page row">
		<div class="rail left large-3 extra-large-2 columns">
			{{discussion-community-badge
				badgeImage=attributes.badgeImage
				editingPossible=true
				triggerHighlightOverlayStateChange=(route-action 'triggerHighlightOverlayStateChange')
				uploadMethod=(action this.attrs.uploadCommunityBadge)
			}}
			{{#if categoriesInRail}}
				{{#if canShowCategories}}
					{{discussion-categories
						categories=categories
						inputIdPrefix='rail'
						disabled=isCategoryFilterDisabled
						triggerHighlightOverlayStateChange=(route-action 'triggerHighlightOverlayStateChange')
						updateCategories=(action this.attrs.updateCategories)
						updateCategoriesSelection=(action this.attrs.updateCategoriesSelection)
						validatePostsOnForum=(action this.attrs.validatePostsOnForum)
						visibleCategoriesCount=10
					}}
				{{/if}}
			{{/if}}
			{{#if canShowReportedPostsFilter}}
				{{discussion-reported-filter
					applyFilters=(action this.attrs.applyFilters)
					topDecoration=reportedFilterTopDecoration
				}}
			{{/if}}
			{{discussion-sort
					disabled=isSortingDisabled
					sortBy=sortBy
					setSortBy=(action 'setSortBy')
			}}
		</div>
		<div class="small-12 large-6 extra-large-6 columns">
			{{yield}}
		</div>
		<div class="rail right large-3 extra-large-2 columns">
			{{discussion-community-unit
				displayGuidelinesLink=true
				displayWikiaHomeLink=true
				guidelines=attributes.guidelines
				listPage=true
				openGuidelines=(action this.attrs.openGuidelines)
			}}
		</div>
	</div>
</div>
